var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},CopilotSearch;(function(n){var t;(function(n){function y(t){n.locStrings=t.locStrings;n.maxSuggestCount=t.maxSug;n.originalUrl=window.location.href}function p(){var n=_d.getElementsByClassName("b_dark");return n!=null&&n.length!=0}function w(t,i){i===void 0&&(i=n.originalUrl);var f=new RegExp("[?&]{1}".concat(t,"=([^&]+)"),"i"),r=i.match(f),u=r?r[1]:null;return u?decodeURIComponent(u.replace(/\+/g," ")):""}function b(t,i){i===void 0&&(i=n.originalUrl);var u=decodeURIComponent(i).replace(/&amp;/gi,"&"),f=new RegExp("[?&]{1}".concat(t,"=([^&]+)"),"i"),r=u.match(f);return r?r[1].replace(/\+/g," "):""}function u(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];typeof Log!="undefined"&&Log.Log&&Log.Log.apply(Log,__spreadArray([n,"CopilotSearch",t,!0],r,!1))}function k(n){typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare([n])}function d(n,t,i,r,u){typeof Log!="undefined"&&Log.LogCustomData&&Log.LogCustomData(n,"CopilotSearch",t,i,r,u)}function g(n,t,i){for(var f=[],r=3;r<arguments.length;r++)f[r-3]=arguments[r];u.apply(void 0,__spreadArray([n,t,"OvrIG",i],f,!1))}function nt(n){var t,i;return n&&((i=(t=n.impressionID)!==null&&t!==void 0?t:n.shLoadingIg)!==null&&i!==void 0?i:n.ig)}function tt(n,t,i){var r=new URL(n.href.toLowerCase());r.searchParams.has(t.toLowerCase())||n.searchParams.set(t,i)}function f(){var n=_d.querySelector(".ca_turn:last-of-type");return n?n.getAttribute("turnid"):null}function e(){var n=_d.querySelector("#convId");return n?n.getAttribute("value"):null}function it(){var n=e(),t=f();return!n||!t?"":t+"-"+n}function rt(){function n(){var n=new Uint32Array(1);return window.crypto.getRandomValues(n),n[0]/4294967296}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=n()*16|0,r=t==="x"?i:i&3|8;return r.toString(16)})}function ft(n,t){var i,r=n.contentDocument||((i=n.contentWindow)===null||i===void 0?void 0:i.document);return r?r.querySelector(t):null}var r,o,s,h,c,l,a,v,t,i,ut;(function(n){n[n.Error=0]="Error";n[n.FloatingZeroPage=1]="FloatingZeroPage";n[n.FloatCompose=2]="FloatCompose";n[n.Retry=3]="Retry";n[n.BlankInput=4]="BlankInput"})(o=n.CopilotSearchState||(n.CopilotSearchState={})),function(n){n[n.Success=1]="Success";n[n.Failure=2]="Failure";n[n.InProgress=3]="InProgress";n[n.Default=16]="Default"}(s=n.ChipsGenerationStatus||(n.ChipsGenerationStatus={})),function(n){n[n.IsRAIQueryBlocklist=1]="IsRAIQueryBlocklist";n[n.InitiatedGeneration=2]="InitiatedGeneration";n[n.IsComplete=3]="IsComplete";n[n.PapyrusRequestCreation=4]="PapyrusRequestCreation";n[n.PapyrusResponseProcess=5]="PapyrusResponseProcess";n[n.IsRAISuggestionsBlocklist=6]="IsRAISuggestionsBlocklist";n[n.IsQueryBlocklist=7]="IsQueryBlocklist";n[n.NoEntryInOS=8]="NoEntryInOS";n[n.NoProperStatus=9]="NoProperStatus";n[n.CorruptStatus=10]="CorruptStatus";n[n.Default=16]="Default"}(h=n.GenerationStatusReason||(n.GenerationStatusReason={})),function(n){n.Click="Click";n.CopilotSystem="CopilotSystem";n.CopilotInteraction="CopilotInteraction";n.Perf="Perf";n.SystemEvent="SystemEvent";n.AjaxAds="AjaxAds"}(c=n.ClientInst||(n.ClientInst={})),function(n){n.AttachmentUploadSuccess="AttachmentUploadSuccess";n.AttachmentUploadFailure="AttachmentUploadFailure";n.BackToSerp="BackToSerp";n.ConversationStarted="ConversationStarted";n.ConversationCreateFailure="ConversationCreateFailure";n.DislikeClicked="DislikeClicked";n.DwellTimeFiveSec="DwellTimeFiveSec";n.LikeClicked="LikeClicked";n.MenuToggle="MenuToggle";n.NewThreadButtonClicked="NewThreadButtonClicked";n.NewThreadFromError="NewThreadFromError";n.ModelSwitchingMenuToggle="ModelSwitchingMenuToggle";n.ModelSwitchingOptionClicked="ModelSwitchingOptionClicked";n.OpenAllResults="OpenAllResults";n.PerformanceData="PerformanceData";n.QueryIssued="QueryIssued";n.ResponseRendered="ResponseRendered";n.ResponseFailed="ResponseFailed";n.ResponseTimeout="ResponseTimeout";n.ResultsEmpty="ResultsEmpty";n.ContainerNoAnswer="ContainerNoAnswer";n.ThinkStateError="ThinkStateError";n.RetryButtonClicked="RetryButtonClicked";n.BackButtonClicked="BackButtonClicked";n.SuggestionChipsApiSent="SuggestionChipsApiSent";n.TotalSuggestionChipsApiReq="TotalSuggestionChipsApiReq";n.FeedbackClick="FeedbackClick";n.SuggestionChipsApiSuccess="SuggestionChipsApiSuccess";n.SuggestionChipsApiEmptyResponse="SuggestionChipsApiEmptyResponse";n.SuggestionChipsApiError="SuggestionChipsApiError";n.SuggestionChipsApiFailure="SuggestionChipsApiFailure";n.SuggestionChipsApiReachMaxRetry="SuggestionChipsApiReachMaxRetry";n.SuggestionChipRender="SuggestionChipRender";n.SuggestionChipEvent="SuggestionChipEvent";n.SuggestionChipClick="SuggestionChipClick";n.SuggestionChipsRetryNum="SuggestionChipsRetryNum";n.ScopeClick="ScopeClick";n.NoChipMsg="NoChipMsg";n.Error="Error";n.CopilotAnswerLoadTime="CopilotAnswerLoadTime";n.CitationPopup="CitationPopup";n.CitationClick="CitationClick";n.CitationDimiss="CitationDimiss";n.ComposerSubmitButtonClicked="ComposerSubmitButtonClicked";n.ClipboardPasteTransfer="ClipboardPasteTransfer";n.ZeroInputCardClicked="ZeroInputCardClicked";n.DiscoverCardClicked="DiscoverCardClicked";n.NewSearchClicked="NewSearchClicked";n.CacheOnlyRequestIssued="CacheOnlyRequestIssued";n.TriggerFailureFallback="IssuedFrameFailureFallback";n.ZeroInputPageLoaded="ZeroInputPageLoaded";n.ZipAjaxRequestSent="ZipAjaxRequestSent";n.ZipAjaxRequestSuccess="ZipAjaxRequestSuccess";n.ZipAjaxRequestFailure="ZipAjaxRequestFailure";n.ZipHtmlResponseAppended="ZipHtmlResponseAppended";n.ZipHtmlResponseAppendFail="ZipHtmlResponseAppendFail";n.MagazineFollowupIssued="MagFollowIssued";n.TraceIdDebug="TraceIdDebug";n.TraceIdData="TraceIdData";n.OverlayCitationClick="OverlayCitationClick";n.OverlayLinkClick="OverlayLinkClick";n.OverlayCheckSourceClick="OverlayCheckSourceClick";n.OverlayPopup="OverlayPopup";n.OverlayDimiss="OverlayDimiss";n.StopStreamingClick="StopStreamingButtonClick";n.PostMessageToTurn="PostMessageToTurn";n.CopyButtonRendered="CopyButtonRendered";n.CopyButtonClick="CopyButtonClick";n.AttachmentAdded="AttachmentAdded";n.AttachmentUpdated="AttachmentUpdated";n.AttachmentCleared="AttachmentCleared";n.ScrollToBottomIssueQuery="ScrollToBottomIssueQuery";n.AjaxAdsLoadTime="AjaxAdsLoadTime";n.AjaxAdsLoadedAfterIframe="AjaxAdsLoadedAfterIframe";n.AjaxAdsErrorStateDroppedAds="AjaxAdsErrorStateDroppedAds";n.AjaxAdsDuplicatedCopyCallCaughtByMap="AjaxAdsDuplicatedCopyCallCaughtByMap";n.AjaxAdsDuplicatedCopyCallCaughtByElement="AjaxAdsDuplicatedCopyCallCaughtByElement"}(l=n.LogNames||(n.LogNames={})),function(n){n.AutoSuggest="AutoSuggest";n.History="History";n.MagFollow="MagFollow";n.ScrollToBottom="ScrollToBottom";n.SuggestionChip="SuggestionChip";n.Text="Text";n.Voice="Voice";n.Url="Url";n.Zero="Zero";n.ThreadHistory="ThreadHistory";n.Scope="Scope"}(a=n.InputTypes||(n.InputTypes={})),function(n){n.Turn="Turn";n.Zero="Zero";n.Rest="Rest";n.Float="Float";n.FloatZero="FloatZero"}(v=n.CopilotMode||(n.CopilotMode={}));n.svgNS="http://www.w3.org/2000/svg";n.hiddenClassName="hidden";n.loadingClassName="loading";n.collapseClassName="coll";n.maxSuggestCount=-1;n.isDarkMode=p();n.GlobalInstTracker=_w.GlobalInstTracker;n.instTracker=typeof n.GlobalInstTracker!="undefined"?(r=n.GlobalInstTracker.createInstTracker("CopilotSearch"))!==null&&r!==void 0?r:n.GlobalInstTracker.getInstTracker("CopilotSearch"):null;n.originalUrl=window.location.href;n.initConfig=y;n.getValueFromUrl=w;n.getValueFromUrlNormalized=b;n.writeLog=u;n.writeFilterFlareLog=k;n.logCustomData=d;n.writeOverrideLog=g;n.getImpressionId=nt;n.setParamIfNotExist=tt;n.getLastTurnId=f;n.getConversationId=e;n.getResponseId=it;n.generateIGUID=rt;t="__METRIC_NAME__";i="/shux/monitor?metric=".concat(t);n.suggestionchipSendMonitorEndpoint=i.replace(t,"copilotSearchSC");n.copilotSearchSCFetchRetryMonitorEndpoint=i.replace(t,"copilotSearchSCFetchRetry");n.copilotSearchSC_TTVR_MonitorEndpoint=i.replace(t,"copilotSearchSC_TTVR");n.copilotSearchSCFetchStatusMonitorEndpoint=i.replace(t,"copilotSearchSCFetchStatusFromApi"),function(n){n[n.TotalAjaxSend=0]="TotalAjaxSend";n[n.TotalAjaxValidResponse=1]="TotalAjaxValidResponse";n[n.TotalHitCache=2]="TotalHitCache";n[n.TotalPostReceived=3]="TotalPostReceived";n[n.TotalTimeout=4]="TotalTimeout";n[n.TotalSCRendered=5]="TotalSCRendered";n[n.TotalPostReceivedHasChips=6]="TotalPostReceivedHasChips";n[n.TotalPostReceivedOnlyKey=7]="TotalPostReceivedOnlyKey";n[n.TotalAjaxReachMaxRetry=8]="TotalAjaxReachMaxRetry";n[n.TotalAjaxSentImpression=9]="TotalAjaxSentImpression"}(ut=n.SuggestionchipMdmFetchType||(n.SuggestionchipMdmFetchType={}));n.suggestionChipsFetchApi="/wpt/fetchcopsearchsc";n.getIframeInternalElement=ft})(t=n.Helper||(n.Helper={}))})(CopilotSearch||(CopilotSearch={}))