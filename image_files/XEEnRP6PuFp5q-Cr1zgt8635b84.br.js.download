(function(){function tt(n){var r,u,f,t,h,c;n&&n.length>1&&(f=n[1],e=f);y?(y=!1,t=s(_w.location.href),t&&(o=(u=(r=t.searchParams.get("q"))!==null&&r!==void 0?r:t.searchParams.get("Q"))!==null&&u!==void 0?u:""),b(),sj_be(_d,"scroll",b)):(h=Lib.CssClass.contains(sj_b,i),h&&(d?it():(c=_d.querySelectorAll("#b_header .b_scopebar>ul li"),c.forEach(function(n){w(n,e)}))))}function it(){var n=_d.querySelectorAll("#b_header .b_scopebar>ul li");n.forEach(function(n){w(n,e);sj_be(n,"click",rt)})}function ct(){var n=_d.querySelectorAll("#b_header .b_scopebar>ul li");n.forEach(function(n){w(n,o);sj_ue(n,"click",rt)})}function w(n,t){var r=n.querySelector("a"),u=r===null||r===void 0?void 0:r.href,i,e,h;u&&(ft(u)||lt(u)||(i=s(u,_w.location.origin),i)&&(e=n.id===c,h=n.id===f,e?t!==o?i.searchParams.set("pq",o):i.searchParams["delete"]("pq"):h&&!i.searchParams.has("q")&&(i.pathname="/search",i.searchParams["delete"]("scope"),i.searchParams.set("q","")),ut(i,t,r,!0,!1)))}function rt(n){var c,t,h;n=sj_ev(n);var o=n.currentTarget,r=o.querySelector("a"),i=r===null||r===void 0?void 0:r.href,u=e;if(i){if(c=o.id===f,ft(i)){if(i=at(i),t=s(i,_w.location.origin),!t)return;c&&!t.searchParams.has("q")&&(t.pathname="/search",t.searchParams["delete"]("scope"),t.searchParams.set("q",u),u=null)}else{if(t=s(i,_w.location.origin),!t)return;u=null}h=o.getAttribute("inlinechat")!=="true"&&(t.searchParams.has("q")||t.searchParams.has("Q")||t.searchParams.has("prompt"));ut(t,u,r,!1,h);h&&(sj_pd(n),sj_sp(n))}}function ut(n,t,i,r,u){if((r||u)&&(t&&(n.searchParams.has("q")?n.searchParams.set("q",t):n.searchParams.has("Q")?n.searchParams.set("Q",t):n.searchParams.has("prompt")&&n.searchParams.set("prompt",t)),r&&i&&(i.href=n.toString()),u)){var f=i===null||i===void 0?void 0:i.target;f==="_blank"?_w.open(n.toString(),"_blank"):_w.location.href=n.toString()}}function ft(n){return typeof n=="string"&&!!n.match(/\.bing\.com\/(ck|ac|clk)/)}function lt(n){return typeof n=="string"&&!!n.match(/^javascript:\s*void/i)}function at(n){var t=vt(n,"u");if(!t)return n;try{return t.startsWith("a1")&&(t=t.substring(2)),t=t.replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function vt(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function s(n,t){try{return new URL(n,t)}catch(i){return null}}function b(){var n=Lib.CssClass.contains(sj_b,i),t=_w.pageYOffset;t>=l!=n&&t>g!=n&&(n?et():pt(),n=!n);l=t}function yt(){n.setAttribute("data-priority","2");t=_d.querySelector(".b_ph_placehold");!t&&n&&n.parentElement&&(t=_d.createElement("div"),t.className="b_ph_placehold",n.parentElement.insertBefore(t,n))}function pt(){it();Lib.CssClass.add(sj_b,i);Lib.CssClass.add(sj_b,k);Lib.CssClass.add(v,u);Lib.CssClass.remove(a,u);n.style.top="0px";t||yt();t&&(t.style.height=nt);r&&(r.style.top="66px");wt("pin")}function et(){(!d||p)&&(ct(),Lib.CssClass.contains(sj_b,i)&&(Lib.CssClass.remove(sj_b,i),Lib.CssClass.remove(sj_b,k),Lib.CssClass.remove(v,u),Lib.CssClass.add(a,u),n.style.top="auto",t&&(t.style.height="0px"),r&&(r.style.top="0px")))}function ot(){p=!0}function wt(n){typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare(["pinheader_"+n])}function st(){(n=_ge("b_header"),a=_ge(f),v=_ge(c),n)&&(nt=n.offsetHeight.toString()+"px",g=30*_d.body.offsetHeight/100,r=_ge("lgGenSERPContainer"),sj_evt.bind("csComposerTurn",tt,!0),sj_evt.bind("bcontentvis",ot,!0))}function bt(){sj_ue(_d,"scroll",b);sj_evt.unbind("onP1",st);sj_evt.unbind("csComposerTurn",tt);sj_evt.unbind("bcontentvis",ot);et();l=0;y=!0;p=!1}function ht(){sj_evt.bind("onP1",st,!0)}var h,i="b_pinhead",k="b_pinchathead",u="b_active",c="b-scopeListItem-copilotsearch",f="b-scopeListItem-web",d=((h=_G===null||_G===void 0?void 0:_G.EF)===null||h===void 0?void 0:h.showinlchat)===1,g,l,n=_ge("b_header"),a=_ge(f),v=_ge(c),r,t,nt,e,o,y=!0,p=!1;ht();sj_evt.bind("ajax.postload",ht);sj_evt.bind("ajax.unload",bt)})()